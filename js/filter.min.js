function filterBrand(id) {        
        var parent = document.querySelector(".tab-content .row")
        while(parent.firstChild) {
            parent.firstChild.remove();
        }

        products(id,0)
}

function filterCategories(id) {        
    var parent = document.querySelector(".tab-content .row")
    while(parent.firstChild) {
        parent.firstChild.remove();
    }

    products(0,id)
}

async function filterName() {
    await fetch("https://projeto-bd2.herokuapp.com/produtos", {
      headers: {
        "content-type": "application/json",
      },
      method: "GET",
    }).then(async (response) => {
        console.log("teste")
        var parent = document.querySelector(".tab-content .row")
        while(parent.firstChild) {
            parent.firstChild.remove();
        }

        let min = 99999, max = 0, count = 0

        for (response of await response.json()) {

            var input = document.querySelector(".form-control2");

            console.log(input.value)
            if (input.value == response.nome){
                console.log("entrou")
                var item = `
					<div class="col-sm-6 col-md-6 col-lg-4 col-xl-4">
						<div class="products-single fix">
							<div class="box-img-hover">
								<div class="type-lb">
								<p class="sale">PROMO</p>
							</div>
							<img src="https://projeto-bd2.herokuapp.com/files/${response.imagem}" class="img-fluid" alt="Image">
							<div class="mask-icon">
								<ul>
									<li><a href="#" data-toggle="tooltip" data-placement="right" title="Visualizar"><i class="fas fa-eye"></i></a></li>
								</ul>
								<a class="cart" onclick="addItemCart(${response.id_produto})">Adicionar ao carrinho</a>
							</div>
						</div>
						<div class="why-text">
							<h4>${response.nome}</h4>
							<h5>R$ ${(response.preco).toLocaleString('pt-BR',{minimumFractionDigits:2})}</h5>
						</div>
					</div>
				</div>`;
				min = response.preco < min? response.preco : min
				max = response.preco > max? response.preco : max

				parent.insertAdjacentHTML("beforeend", item);
				count++;
			}
		}

		countTotal == 0? countTotal = count : countTotal 

		var total = document.querySelector("#totalItems")
		total.innerHTML =`Exibindo ${count} de ${countTotal} resultados`

		$(function() {
			$("#slider-range").slider({
				range: true,
				min: min,
				max: max,
				values: [min, max],
				slide: function(event, ui) {
					$("#amount").val("R$" + ui.values[0] + "  -  R$" + ui.values[1]);
				}
			});
			$("#amount").val("R$" + $("#slider-range").slider("values", 0) +
				"  -  R$" + $("#slider-range").slider("values", 1));
		});
	});
 }

